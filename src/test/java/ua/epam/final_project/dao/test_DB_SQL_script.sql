drop table if exists usr_edition cascade ;
drop table if exists usr cascade ;
drop table if exists edition cascade ;
drop table if exists usr_role cascade ;
drop table if exists genre cascade ;

create table genre
(
    id      bigint,
    name_en varchar(255),
    name_ua varchar(255),
    primary key (id)
);

create table edition
(
    id          bigint GENERATED BY DEFAULT AS IDENTITY,
    title_en    varchar(255),
    title_ua    varchar(255),
    text_en     varchar(8196),
    text_ua     varchar(8196),
    title_image varchar(2048),
    genre_id    INT references genre (id),
    price       INT,
    primary key (id)
);

create table user_role
(
    id      bigint,
    role_En varchar(255),
    role_Ua varchar(255),
    primary key (id)
);

create table usr
(
    id           bigint GENERATED BY DEFAULT AS IDENTITY,
    username     varchar(255),
    pass         varchar(64),
    email        varchar(128),
    first_name   varchar(64),
    user_image   varchar(2048),
    balance      int,
    user_role_id int references user_role (id),
    primary key (id)
);

create table user_edition
(
    user_id    INT references usr (id),
    edition_id INT references edition (id)
);

insert into user_role (id, role_en, role_ua)
VALUES (1, 'admin', 'адміністратор');
insert into user_role (id, role_en, role_ua)
VALUES (2, 'user', 'користувач');

insert into genre (id, name_en, name_ua)
values (1, 'genre1', 'genre1');
insert into genre (id, name_en, name_ua)
values (2, 'genre2', 'genre2');

insert into usr (username, pass, email, first_name, user_image, balance, user_role_id)
VALUES ('admin', 'Pass1234', 'admin@gmail.com', 'Andrii', '', 1000, 1);
insert into usr (username, pass, email, first_name, user_image, balance, user_role_id)
VALUES ('user2', 'Pass1234', 'user2@gmail.com', 'Username2', '', 1000, 2);
insert into usr (username, pass, email, first_name, user_image, balance, user_role_id)
VALUES ('user3', 'Pass1234', 'user3@gmail.com', 'Username2', '', 1000, 2);

insert into edition (title_en, title_ua, text_en, text_ua, title_image, genre_id, price)
values ('edition1', 'edition1', 'textEn', 'textUa', '', 1, 100);
insert into edition (title_en, title_ua, text_en, text_ua, title_image, genre_id, price)
values ('edition2', 'edition2', 'textEn', 'textUa', '', 1, 200);
insert into edition (title_en, title_ua, text_en, text_ua, title_image, genre_id, price)
values ('edition3', 'edition3', 'textEn', 'textUa', '', 1, 300);
insert into edition (title_en, title_ua, text_en, text_ua, title_image, genre_id, price)
values ('edition4', 'edition4', 'textEn', 'textUa', '', 1, 400);
insert into edition (title_en, title_ua, text_en, text_ua, title_image, genre_id, price)
values ('edition5', 'edition5', 'textEn', 'textUa', '', 2, 500);
insert into edition (title_en, title_ua, text_en, text_ua, title_image, genre_id, price)
values ('edition6', 'edition6', 'textEn', 'textUa', '', 2, 600);
insert into edition (title_en, title_ua, text_en, text_ua, title_image, genre_id, price)
values ('edition7', 'edition7', 'textEn', 'textUa', '', 2, 700);

insert into user_edition (user_id, edition_id) VALUES (1, 1);
insert into user_edition (user_id, edition_id) VALUES (1, 2);
insert into user_edition (user_id, edition_id) VALUES (1, 3);
insert into user_edition (user_id, edition_id) VALUES (1, 4);
insert into user_edition (user_id, edition_id) VALUES (1, 5);
insert into user_edition (user_id, edition_id) VALUES (1, 6);
insert into user_edition (user_id, edition_id) VALUES (1, 7);
insert into user_edition (user_id, edition_id) VALUES (2, 1);
insert into user_edition (user_id, edition_id) VALUES (2, 2);
insert into user_edition (user_id, edition_id) VALUES (2, 7);


